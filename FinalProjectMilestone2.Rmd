---
title: 'Final Project Milestone 2: Analyses'
author: "Daniel Pinckney"
date: "11/17/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
MoCo_MD_LEED_Cert <- read_csv("data/Montgomery_County_MD_LEED_Certified_Buildings.csv")
```

## Preprocessing of Data
Renaming the columns to make them workable
```{r}
colnames(MoCo_MD_LEED_Cert)
MoCo_MD_LEED_Cert <- MoCo_MD_LEED_Cert %>% 
  rename(
    name = "Building Name",
    path = "Path",
    cert_date = "Certification date",
    city = "City",
    state = "State",
    country = "Country",
    build_type = "Rating system",
    version = "Version",
    cert_name = "Certification level (name)",
    cert_num = "Certification level (numeric)"
  ) %>% 
  select(name, cert_date, build_type, cert_name, cert_num)
```

Making the independent variable
```{r}
MoCo_MD_LEED_Cert <- MoCo_MD_LEED_Cert %>% 
  mutate(new_build = case_when(
    build_type == "Commercial Interiors" ~ 0,
    build_type == "New Construction" ~ 1,
    build_type == "Core and Shell" ~ 1,
    build_type == "Schools - New Construction" ~ 1,
    build_type == "Existing Buildings" ~ 0,
    build_type == "Retail - New Construction" ~ 1,
    build_type == "Retail - Commercial Interiors" ~ 0
  )) %>% 
  drop_na(new_build)

mean(MoCo_MD_LEED_Cert$new_build)
```

Working with the Dependent Variable
```{r}
MoCo_MD_LEED_Cert %>% 
  group_by(new_build) %>% 
  summarize(
    mean(cert_num)
  )

summarize(MoCo_MD_LEED_Cert, mean(cert_num))
```

